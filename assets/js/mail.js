document.addEventListener("DOMContentLoaded",function(){const form=document.getElementById("formulaireContactes");const messageContainer=document.getElementById("message-container");const messageContent=document.getElementById("message-content");const closeMessageButton=document.getElementById("close-message");const texte_erreur="error";const submit_str="submit";const diez_name_str="#name";const diez_email_str="#email";const diez_message_str="#message";const texte_mail_non_valide="L'adresse e-mail n'est pas valide.";const texte_champs_manquants="Veuillez remplir tous les champs du formulaire.";form.addEventListener(submit_str,function(event){event.preventDefault();const name = sanitizeInput(form.querySelector( diez_name_str ).value);const email = sanitizeInput(form.querySelector( diez_email_str ).value);const message = sanitizeInput(form.querySelector( diez_message_str ).value);if(!isValidEmail(email)){showMessage(texte_mail_non_valide,texte_erreur);return;}if(!name||!email||!message){showMessage(texte_champs_manquants,texte_erreur);return;}});function showMessage(message,messageType){messageContent.innerHTML=message;messageContainer.className=messageType;messageContainer.style.display="flex";setTimeout(function(){closeMessage();}, 10000);}function closeMessage(){messageContainer.style.display = "none";}function isValidEmail(email){const emailRegex=/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/;return emailRegex.test(email);}function sanitizeInput(input){return input.replace(/</g, "&lt;").replace(/>/g, "&gt;");}});
